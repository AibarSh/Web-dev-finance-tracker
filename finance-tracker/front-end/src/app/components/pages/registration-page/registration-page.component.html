<section id="reg-page-section">
  <form class="reg-form" #form="ngForm">

    <h1 class="reg-h1">Welcome</h1>
    <h2 class="reg-h2">Create account</h2>

    <label class="reg-label">
      Username
      <input type="text" class="reg-input" [(ngModel)]="username" name="username" placeholder="Username" required>
    </label>

    <label class="reg-label">
      Email
      <input type="email" class="reg-input" [(ngModel)]="email" name="email" placeholder="Email" required>
    </label>

    <label class="reg-label">
      Password
      <input type="password" class="reg-input" [(ngModel)]="password" name="password" placeholder="Password" required>
    </label>

    <label class="reg-label">
      Repeat Password
      <input type="password" class="reg-input" [(ngModel)]="password2" name="password2" placeholder="Repeat Password" required>
    </label>

    <button class="reg-button" type="button" (click)="register()" [disabled]="isLoading">
      @if (!isLoading) {
        Register
      } @else {
        <span class="spinner"></span>
      }
    </button>

    @if (registrationSuccess) {
      <div class="reg-msg-green">{{ successMessage }}</div>
    } @else if (errorMessages.length) {
      <div class="reg-msg-red">
        @for (error of errorMessages; track $index) {
          <span>{{ error }}</span>
        }
      </div>
    }

  </form>
</section>
